<div class="products-column">
    <h2 class="mb-4">
        {{ currentCategory ? ('Catégorie : ' + currentCategory) : 'Tous les Produits' }}
    </h2>
    
    <div class="containerProduits">
        <div class="product-card" *ngFor="let p of filteredList()"> 
            <div class="card shadow-sm h-100">
                <img [alt]="p.title" [src]="p.images[0]" class="card-img-top p-2" />

                <div class="card-body d-flex flex-column">
                    <h6 class="fw-bold">{{ p.title }}</h6>
                    <p class="text-muted small flex-grow-1" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                        {{ p.description }}
                    </p>

                    <div class="mt-3">
                        <p class="fw-bold fs-5 text-primary mb-2">
                            {{ p.price | currency: currencyService.selectedCurrency() }}
                        </p>
                        <button 
                            class="btn btn-warning w-100 fw-bold"
                            (click)="addProduitToCart(p)"
                        >
                            Ajouter au panier
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div *ngIf="filteredList().length === 0" class="mt-4">
        <div class="alert alert-info text-center">
            Aucun produit trouvé.
        </div>
    </div>
</div>